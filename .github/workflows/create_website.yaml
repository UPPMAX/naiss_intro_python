name: Create website

on:
push:
branches:
- main
paths:
- .github/workflows/create_website.yaml
- 'docs/**'
- zensical.toml

permissions:
contents: read
pages: write
id-token: write

jobs:
deploy:
runs-on: ubuntu-latest
steps:
# Configure GitHub Pages deployment
- uses: actions/configure-pages@v5

```
  # Checkout the repository  
  - uses: actions/checkout@v5  

  # Setup Python environment  
  - uses: actions/setup-python@v5  
    with:  
      python-version: 3.11  # Pin a specific version for stability  

  # Install Zensical  
  - run: pip install zensical  

  # Build the site  
  - run: zensical build --clean  

  # Upload the build folder for GitHub Pages  
  - uses: actions/upload-pages-artifact@v4  
    with:  
      path: site  

  # Deploy the site directly from main  
  - uses: actions/deploy-pages@v4  
    with:  
      branch: main  # Ensures deployment from main branch  
```




